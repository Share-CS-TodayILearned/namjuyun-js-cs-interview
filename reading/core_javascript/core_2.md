ì‘ì„±ì¼ : 2022.04.11 (ì›”)

# ë¶ˆë³€ ê°ì²´ (Immutable Object)

ê°ì²´ ë‚´ë¶€ í”„ë¡œí¼í‹°ë¥¼ ë³€ê²½í•  ë•Œë§ˆë‹¤

- ìƒˆë¡œìš´ ê°ì²´ë¥¼ ë§Œë“¤ì–´ ì¬í• ë‹¹í•˜ê¸°ë¡œ ì •í•˜ê±°ë‚˜
- ìë™ìœ¼ë¡œ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ë§Œë“œëŠ” ë„êµ¬ë¥¼ í™œìš©í•˜ì—¬ (ex. immutable.js, immer.js ë“±ì˜ ë¼ì´ë¸ŒëŸ¬ë¦¬)

â¡ï¸ **ë¶ˆë³€ì„±** í™•ë³´

<br>

### ë¶ˆë³€ ê°ì²´ê°€ í•„ìš”í•œ ê²½ìš°

ê°ì²´ì— ë³€í™”ë¥¼ ê°€í•´ë„ ì›ë³¸ì´ ê·¸ëŒ€ë¡œ ë‚¨ì•„ìˆì–´ì•¼ í•˜ëŠ” ê²½ìš°<br>
ex) ì •ë³´ê°€ ë°”ë€Œì—ˆìœ¼ë©´ ì•Œë¦¼ ì „ì†¡í•˜ëŠ” ê²½ìš°, ë°”ë€Œê¸° ì „ì˜ ì •ë³´ì™€ ë°”ë€ í›„ì˜ ì •ë³´ë¥¼ ë³´ì—¬ì¤˜ì•¼í•˜ëŠ” ê²½ìš° ë“±

<br>

```jsx
var user = {
  name: "namju",
  gender: "male",
};

var changeName = function (user, newName) {
  var newUser = user;
  newUser.name = newName;
  return newUser;
};

var user2 = changeName(user, "yun");

// ì•„ë˜ì˜ ifë¬¸ì€ ë¬´ì‹œë˜ì–´ ì§€ë‚˜ì¹¨
if (user !== user2) {
  console.log("ìœ ì € ì •ë³´ê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.");
}

console.log(user.name, user2.name); // yun yun
console.log(user === user2); // true
```

<br>
<br>

## ë¶ˆë³€ ê°ì²´ ë§Œë“¤ê¸°

### ìƒˆ ê°ì²´ë¥¼ í•˜ë“œì½”ë”©

```jsx
var user = {
  name: "namju",
  gender: "male",
};

var changeName = function (user, newName) {
  return {
    name: newName,
    gender: user.gender,
  };
};

var user2 = changeName(user, "yun");

if (user !== user2) {
  console.log("ìœ ì € ì •ë³´ê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤."); // ìœ ì € ì •ë³´ê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.
}

console.log(user.name, user2.name); // namju yun
console.log(user === user2); // false
```

â¡ï¸ ğŸ‘ ê°ì²´ì— í”„ë¡œí¼í‹°ê°€ ë§ì„ìˆ˜ë¡ í•˜ë“œì½”ë”©í•´ì•¼í•˜ëŠ” ìˆ˜ê³ ê°€ ë„ˆë¬´ ëŠ˜ì–´ë‚¨

í”„ë¡œí¼í‹° ê°œìˆ˜ì— ìƒê´€ ì—†ì´ **ëª¨ë“  í”„ë¡œí¼í‹°ë¥¼ ë³µì‚¬í•˜ëŠ” í•¨ìˆ˜**ë¥¼ ë§Œë“œëŠ” ê²ƒì´ ì¢‹ìŒ

<br><br>

### ì–•ì€ ë³µì‚¬

> ë°”ë¡œ ì•„ë˜ ë‹¨ê³„ì˜ ê°’ë“¤ë§Œ ë³µì‚¬í•˜ëŠ” ë°©ë²•

: `for in` ë°˜ë³µë¬¸ìœ¼ë¡œ ìƒˆ ê°ì²´ì— ì›ë˜ ê°ì²´ì˜ í”„ë¡œí¼í‹°ë“¤ì„ ë³µì‚¬í•˜ëŠ” í•¨ìˆ˜

```jsx
var copyObject = function (target) {
  var result = {};
  for (var prop in target) {
    result[prop] = target[prop];
  }
  return result;
};
```

ì´ í•¨ìˆ˜ë¥¼ ì´ìš©í•´ ìƒˆë¡œìš´ ê°ì²´ë¥¼ ë§Œë“¤ì–´ í”„ë¡œí¼í‹°ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆìŒ

```jsx
var user = {
  name: "namju",
  gender: "male",
};

var user2 = copyObject(user);
user2.name = "yun";

if (user !== user2) {
  console.log("ìœ ì € ì •ë³´ê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤."); // ìœ ì € ì •ë³´ê°€ ë³€ê²½ë˜ì—ˆìŠµë‹ˆë‹¤.
}

console.log(user.name, user2.name); // namju yun
console.log(user === user2); // false
```

ğŸ‘ ì´ ë°©ë²•ì˜ ë‹¨ì 

- í”„ë¡œí† íƒ€ì… ì²´ì´ë‹ ìƒì˜ ëª¨ë“  í”„ë¡œí¼í‹°ë¥¼ ë³µì‚¬
- getter / setterëŠ” ë³µì‚¬í•˜ì§€ ì•ŠìŒ
- ì–•ì€ ë³µì‚¬ë§Œ ìˆ˜í–‰í•¨

â¡ï¸ ê²Œë‹¤ê°€ í˜‘ì—…í•˜ëŠ” ëª¨ë“  ê°œë°œìë“¤ì—ê²Œ ë¬´ì¡°ê±´ copyObject í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ê¸°ë¡œ í•©ì˜ì‹œí‚¤ëŠ” ê²ƒì´ ì–´ë ¤ì›€!

<br>

> **í”„ë¡œí† íƒ€ì… ì²´ì´ë‹**<br>
> ëª¨ë“  ê°ì²´(í•¨ìˆ˜ í¬í•¨)ì—ëŠ” í”„ë¡œí† íƒ€ì… ê°ì²´ê°€ í¬í•¨ë˜ì–´ ìˆìŒ<br>
> ê·¸ë ‡ê¸° ë–„ë¬¸ì— ì–•ì€ ë³µì‚¬ë¥¼ í•œ ê°ì²´ëŠ” ë¶€ëª¨(ì›ë³¸) ê°ì²´ì˜ í”„ë¡œí† íƒ€ì…ì—ë„ ì ‘ê·¼í•  ìˆ˜ ìˆì–´ì§<br>
> (ìŠ¤ì½”í”„ ì²´ì´ë‹ì²˜ëŸ¼ ê³„ì† ìƒìœ„ë¡œ ê°€ì„œ íƒìƒ‰ì„ í•˜ëŠ” ì‹)

<br><br>

### ê¹Šì€ ë³µì‚¬

> ë‚´ë¶€ì˜ ëª¨ë“  ê°’ë“¤ì„ í•˜ë‚˜í•˜ë‚˜ ì°¾ì•„ì„œ ì „ë¶€ ë³µì‚¬í•˜ëŠ” ë°©ë²•

ì–•ì€ ë³µì‚¬ ë§Œìœ¼ë¡œëŠ” ì¤‘ì²©ëœ ê°ì²´ë¥¼ ì œëŒ€ë¡œ ë³µì‚¬í•  ìˆ˜ ì—†ìŒ (ë°”ë¡œ ì•„ë˜ ë‹¨ê³„ì˜ ê°’ë“¤ë§Œ ìƒˆë¡œìš´ ë°ì´í„° ì£¼ì†Œë¡œ ë³µì‚¬ì‹œí‚¤ëŠ” ê²ƒ)

```jsx
var user = {
  name: "namju",
  info: {
    hobby: "bike",
    location: "seoul",
    happy: true,
  },
};

var user2 = copyObject(user);
user.name = "yun namju";
user.info.hobby = "read";
user.info.location = "busan";

console.log(user.name === user2.name); // false
console.log(user.info.hobby === user2.info.hobby); // true : ë‘ ê°ì²´ê°€ ëª¨ë‘ ë³€ê²½ë¨
console.log(user.info.location === user2.info.location); // true : ë‘ ê°ì²´ê°€ ëª¨ë‘ ë³€ê²½ë¨
```

í•œ ë‹¨ê³„ ë” nesting ëœ info ê°ì²´ì˜ í”„ë¡œí¼í‹°ë“¤ì—ëŠ” ê¸°ì¡´ì˜ ë°ì´í„°ë¥¼ ê·¸ëŒ€ë¡œ ì°¸ì¡°í•˜ê³  ìˆëŠ” ê²ƒ!

â¡ï¸ ì´ëŸ° nested ëœ ëª¨ë“  í”„ë¡œí¼í‹°ë“¤ì— ëŒ€í•œ ë³µì‚¬ë¥¼ **ì¬ê·€ì ìœ¼ë¡œ** ìˆ˜í–‰í•´ì•¼ **ê¹Šì€ ë³µì‚¬**ê°€ ë¨

<br>

_ê°ì²´ì˜ ê¹Šì€ ë³µì‚¬ë¥¼ ìˆ˜í–‰í•˜ëŠ” í•¨ìˆ˜_

```jsx
var copyObjectDeep = function (target) {
  var result = {};

  if (typeof target === "object" && target !== null) {
    for (var prop in target) {
      result[prop] = copyObjectDeep(target[prop]); // ì¬ê·€ì  í˜¸ì¶œ
    }
  } else {
    result = target;
  }

  return result;
};
```

â• `hasOwnProperty` ë©”ì„œë“œë¥¼ í†µí•´ í”„ë¡œí† íƒ€ì… ì²´ì´ë‹ì„ í†µí•´ ìƒì†ëœ í”„ë¡œí¼í‹°ëŠ” ë³µì‚¬í•˜ì§€ ì•Šë„ë¡ í•  ìˆ˜ ìˆìŒ
â• ES6, ES2017ì˜ ê²½ìš° `Object.getOwnPropertyDescriptor`, `Object.getOwnPropertyDescriptors`ë¥¼ í†µí•´ getter/setterë¥¼ ë³µì‚¬í•  ìˆ˜ ìˆìŒ

<br>

âœ¨ ê¹Šì€ ë³µì‚¬ë¥¼ í•˜ëŠ” ë‹¤ë¥¸ ë°©ë²• - `JSON`

ê°ì²´ë¥¼ JSON ë¬¸ë²•ì˜ ë¬¸ìì—´ë¡œ ë§Œë“¤ì—ˆë‹¤ê°€ ë‹¤ì‹œ JSON ê°ì²´ë¡œ ë§Œë“œëŠ” ê²ƒ (`JSON.stringify`, `JSON.parse`)

- ë©”ì„œë“œ, `__proto__`, getter/setterëŠ” JSONìœ¼ë¡œ ë³€ê²½ ë¶ˆê°€ëŠ¥í•˜ì—¬ ë¬´ì‹œë¨
- `httpRequest`ë¡œ ë°›ì€ ë°ì´í„° ë“±ì˜ ìˆœìˆ˜í•œ ì •ë³´ë¥¼ ë‹¤ë£° ë•Œ í™œìš©

<br>

---

<br>

# undefinedì™€ null

ë‘˜ ë‹¤ '**ì—†ìŒ**'ì„ ë‚˜íƒ€ë‚´ì§€ë§Œ ì˜ë¯¸ê°€ ë‹¤ë¥´ê³  ì‚¬ìš© ëª©ì ë„ ë‹¤ë¥´ë‹¤

<br>

## undefined

ì‚¬ìš©ìê°€ ëª…ì‹œì ìœ¼ë¡œ ì§€ì •í•˜ê±°ë‚˜, ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì´ ìë™ìœ¼ë¡œ ë¶€ì—¬í•¨

<br>

### ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì´ ë¶€ì—¬í•˜ëŠ” ê²½ìš°

1. ë°ì´í„° ì˜ì—­ì˜ ë©”ëª¨ë¦¬ ì£¼ì†Œë¥¼ ì§€ì •í•˜ì§€ ì•Šì€ ì‹ë³„ìì— ì ‘ê·¼<br> (varë¥¼ ì„ ì–¸í•˜ê¸°ë§Œ í•˜ê³  í• ë‹¹ì€ í•˜ì§€ ì•Šìœ¼ë©´ undefinedë¡œ ì´ˆê¸°í™” ë¨)

2. ê°ì²´ ë‚´ë¶€ì˜ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” í”„ë¡œí¼í‹°ì— ì ‘ê·¼í•  ë•Œ

3. return ë¬¸ì´ ì—†ê±°ë‚˜ í˜¸ì¶œë˜ì§€ ì•ŠëŠ” í•¨ìˆ˜ì˜ ê²°ê³¼

```jsx
// 1
var a;
console.log(a); // undefined

// 2
var obj = { a: 1 };
console.log(obj.b); // undefined

// 3
var c = function () {};
console.log(c()); // undefined
```

<br>

### undefinedì™€ ë°°ì—´

í¬ê¸°ê°€ 3ì¸ ë¹ˆ ë°°ì—´ì„ ë§Œë“¤ë©´ undefined ì¡°ì°¨ í• ë‹¹ì´ ë˜ì–´ìˆì§€ ì•ŠìŒ

```jsx
var arr1 = [];
arr1.length = 3;
console.log(arr1); // [empty x 3]

var arr2 = new Array(3);
console.log(arr2); // [empty x 3]

var arr3 = [undefined, undefined, undefined];
console.log(arr3); // [undefined, undefined, undefined]
```

'ë¹„ì–´ìˆëŠ” ìš”ì†Œ'ì™€ 'undefinedê°€ í• ë‹¹ëœ ìš”ì†Œ'ëŠ” ì¶œë ¥ ê²°ê³¼ë¶€í„° ë‹¤ë¦„<br>
â• ë¹„ì–´ìˆëŠ” ìš”ì†ŒëŠ” **ë°°ì—´ ë©”ì„œë“œì˜ ìˆœíšŒ ëŒ€ìƒì—ì„œ ì œì™¸ë¨**

```jsx
var arr1 = [undefined, 1];
var arr2 = [];
arr2[1] = 1;

arr1.forEach((v) => console.log(v)); // undefined 1
arr2.forEach((v) => console.log(v)); // 1 (ì•„ì˜ˆ ì²«ë²ˆì§¸ëŠ” ë¬´ì‹œ)
```

ë¹ˆ ë°°ì—´ ìš”ì†Œ = ì•„ì§ ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê°ì²´ í”„ë¡œí¼í‹° <br>
â¡ï¸ íŠ¹ì • ì¸ë±ìŠ¤ì— ê°’ì„ ì§€ì •í•˜ê¸° ì „ê¹Œì§€ëŠ” ë¹ˆ ê³µê°„ì„ í™•ë³´í•˜ê³ , ì¸ë±ìŠ¤ë¥¼ ì´ë¦„ìœ¼ë¡œ ì •í•˜ê³ , ë°ì´í„°ì˜ ì£¼ì†Œê°’ì„ ì €ì¥í•˜ëŠ” ë™ì‘ì„ í•˜ì§€ ì•ŠìŒ!

í•˜ì§€ë§Œ `undefined`ëŠ” ê·¸ ìì²´ë¡œ í•˜ë‚˜ì˜ ê°’ <br>
â¡ï¸ **ëª…ì‹œì ìœ¼ë¡œ undefinedë¥¼ í• ë‹¹í•œë‹¤ë©´** ê³ ìœ ì˜ í”„ë¡œí¼í‹°ë¡œ ì‹¤ì¡´í•˜ê²Œ ë˜ê³  ìˆœíšŒì˜ ëŒ€ìƒì´ ë  ìˆ˜ ìˆìŒ

<br>

> âœ¨ ì‚¬ìš©ìê°€ ëª…ì‹œì ìœ¼ë¡œ í• ë‹¹í•œ undefinedëŠ” í•˜ë‚˜ì˜ ì‹¤ì¡´ ë°ì´í„°<br>
> âœ¨ í•˜ì§€ë§Œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì—”ì§„ì´ ë°˜í™˜í•˜ëŠ” undefinedëŠ” ë¬¸ì ê·¸ëŒ€ë¡œ ê°’ì´ ì—†ìŒ, ì•„ì§ ì¡´ì¬í•˜ì§€ ì•ŠìŒ!

â¡ï¸ ì—¬ê¸°ì„œ ì˜¤ëŠ” í˜¼ëˆì„ í”¼í•˜ê¸° ìœ„í•´ ìš°ë¦¬ëŠ” ìš°ë¦¬ê°€ ëª…ì‹œì ìœ¼ë¡œ undefinedë¥¼ ì£¼ëŠ” ì¼ì„ ì—†ê²Œ í•´ì•¼í•¨
â†’ ê·¸ ëŒ€ì‹ ì— `null` ì‚¬ìš©

> ëª…ì‹œì ìœ¼ë¡œ ê°’ ì—†ìŒì„ ë‚˜íƒ€ë‚¼ ë•Œì—” ë¬´ì¡°ê±´ `null`ì„ ì‚¬ìš©í•´ë¼

<br><br>
<br><br>

> **ë ˆí¼ëŸ°ìŠ¤**<br> > [[JS Core]JavaScript í”„ë¡œí† íƒ€ì… ì²´ì´ë‹(Prototype Link, Prototype Object)](https://velog.io/@sik2/JS-CoreJavaScript-%ED%94%84%EB%A1%9C%ED%86%A0%ED%83%80%EC%9E%85-%EC%B2%B4%EC%9D%B4%EB%8B%9DPrototype-Link-Prototype-Object)
